@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body,
#app {
  height: 100%;
  touch-action: manipulation;
}

body {
  margin: 0;
}

/* Prevent iOS jank: disable overscroll bounce */
html,
body {
  overscroll-behavior: none;
  overflow: hidden;
  position: fixed;
  width: 100%;
}

/* Safe area handling for notch/home indicator */
#app {
  height: 100dvh;
  padding: env(safe-area-inset-top) env(safe-area-inset-right)
    env(safe-area-inset-bottom) env(safe-area-inset-left);
  box-sizing: border-box;
}

/* Prevent iOS long-press callout and text selection on interactive elements */
canvas,
button,
.touch-target {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* ============================================
   Marquee Border Text - Four Edge Animation
   ============================================ */

.edge-strip {
  position: absolute;
  overflow: hidden;
}

.edge-strip-measure {
  position: absolute;
  visibility: hidden;
  white-space: nowrap;
}

.edge-strip-text {
  display: inline-block;
  white-space: nowrap;
}

/* Horizontal edges */
.edge-strip-top,
.edge-strip-bottom {
  left: var(--path-inset, 18px);
  right: var(--path-inset, 18px);
  height: var(--font-size, 14px);
}

.edge-strip-top {
  top: var(--path-inset, 18px);
  transform: translateY(-50%);
}

.edge-strip-bottom {
  bottom: var(--path-inset, 18px);
  transform: translateY(50%);
}

/* Vertical edges */
.edge-strip-right,
.edge-strip-left {
  top: var(--path-inset, 18px);
  bottom: var(--path-inset, 18px);
  width: var(--font-size, 14px);
}

.edge-strip-right {
  right: var(--path-inset, 18px);
  transform: translateX(50%);
}

.edge-strip-left {
  left: var(--path-inset, 18px);
  transform: translateX(-50%);
}

/* Animation: Top edge - text flows right (scrolls left) */
.edge-strip-top .edge-strip-text {
  animation: marquee-scroll-left var(--animation-duration, 5s) linear infinite;
}

/* Animation: Right edge - text flows down (scrolls up) */
.edge-strip-right .edge-strip-text {
  animation: marquee-scroll-up var(--animation-duration, 5s) linear infinite;
}

/* Animation: Bottom edge - text flows left (scrolls right) */
.edge-strip-bottom .edge-strip-text {
  animation: marquee-scroll-right var(--animation-duration, 5s) linear infinite;
}

/* Animation: Left edge - text flows up (scrolls down) */
.edge-strip-left .edge-strip-text {
  animation: marquee-scroll-down var(--animation-duration, 5s) linear infinite;
}

@keyframes marquee-scroll-left {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(calc(-1 * var(--base-text-width, 100px)));
  }
}

@keyframes marquee-scroll-right {
  from {
    transform: translateX(calc(-1 * var(--base-text-width, 100px)));
  }
  to {
    transform: translateX(0);
  }
}

@keyframes marquee-scroll-up {
  from {
    transform: translateY(0);
  }
  to {
    transform: translateY(calc(-1 * var(--base-text-width, 100px)));
  }
}

@keyframes marquee-scroll-down {
  from {
    transform: translateY(calc(-1 * var(--base-text-width, 100px)));
  }
  to {
    transform: translateY(0);
  }
}
